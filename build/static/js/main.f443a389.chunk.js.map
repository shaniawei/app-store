{"version":3,"sources":["components/loading.js","components/home-search.js","components/recommend-list.js","components/top-rank-list.js","components/line.js","redux/action/index.js","modules/data-config.js","modules/self-error.js","modules/url.js","modules/fetch.js","modules/scroll.js","modules/fetching.js","modules/factory.js","pages/index.js","components/search-list.js","components/search-input.js","pages/search.js","modules/router.js","redux/reducer/index.js","redux/store.js","App.js","index.js"],"names":["Loading","react_default","a","createElement","className","PureComponent","HomeSearch","react_router_dom","to","src","RecommendList","console","log","this","props","entry","recommend","feed","map","r","index","key","id","attributes","label","title","category","TopRankList","appList","GlobalLine","GETAPPLIST","GETRECOMMEND","GETRNETXAPPLIST","getAppList","payload","type","getRecommend","getNextAppList","SelfError","Object","classCallCheck","code","message","raw","assign","queryJoin","api","args","slice","call","arguments","params","spliter","sep","qs","apply","keys","k","encodeURIComponent","join","test","indexOf","isFetching","Factory","apiMap","forEach","query","options","config","data","url","replace","all","reqOptions","method","reqConfig","length","undefined","payloads","mode","toLowerCase","banQuery","body","JSON","stringify","Promise","resolve","reject","fetch","then","res","ok","json","err","concat","catch","statusText","dataFetch","ITEM_HEIGHT","document","compatMode","documentElement","clientHeight","Home","_this","possibleConstructorReturn","getPrototypeOf","getNextPage","bind","assertThisInitialized","cb","_this2","limit","success","setTimeout","window","onscroll","scrollTop","distance","offsetHeight","opts","hasNextPage","pageContext","_this$props","home_search_HomeSearch","line_GlobalLine","recommend_list_RecommendList","top_rank_list_TopRankList","loading_Loading","connect","state","dispatch","_getAppList2","asyncToGenerator","regenerator_default","mark","_callee","param","_ref","_ref2","_args","wrap","_context","prev","next","req","sent","slicedToArray","stop","_x","_getRecommend2","_callee2","_ref3","_ref4","_context2","_x2","_getNextAppList2","_callee3","_ref5","_ref6","_args3","_context3","_x3","SearchList","resList","l","SearchInput","keywords","onChange","getSmartList","goSearch","e","persist","target","value","setState","clearTimeout","timer","reg","RegExp","toConsumableArray","filter","term","_this$props2","_this$state","placeholder","search_list_SearchList","Search","search_input_SearchInput","getRouter","react_router","exact","path","component","Index","initState","store","createStore","action","App","es","ReactDOM","render","App_App","getElementById"],"mappings":"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","file":"static/js/main.f443a389.chunk.js","sourcesContent":["import React, { PureComponent } from 'react'\n\nexport default class Loading extends PureComponent {\n\n    render() {\n\n        return (\n            <div className=\"loading_box\">\n                <div className=\"loading_icon\"></div>\n            </div>\n        )\n    }\n}","import React, { PureComponent } from 'react'\nimport { Link } from 'react-router-dom'\nexport default class HomeSearch extends PureComponent {\n\n    render() {\n\n        return (\n            <div className='home_search_box'>\n                <div className=\"home_search\">\n                    <Link to=\"/search\">\n                        <img className='icon' src='http://127.0.0.1:3010/images/search.svg'></img>\n                        <div className='title'>搜索</div>\n                    </Link>\n                </div>\n            </div>\n        )\n    }\n}","import React, { PureComponent } from 'react'\nexport default class RecommendList extends PureComponent {\n\n    render() {\n        console.log('this', this.props)\n        let { recommend } = this.props\n        let entry = recommend.feed.entry\n        let getRecommendList = () => {\n            return entry.map((r, index) => {\n                return (\n                    <div className={index ? 'item_box' : 'item_box first'} key={r.id.attributes['im:id']}>\n                        <img src={r['im:image'][0].label} className='logo'></img>\n                        <div className='txt tow_row_ellipsis'>{r.title.label}</div>\n                        <div className='category ellipsis'>{r.category.attributes.label}</div>\n                    </div>\n                )\n            })\n        }\n        return (\n            <div className='recommend_wrap'>\n                <div className=\"recommend_box\">\n                    <div className='title'>推荐</div>\n                    <div className='items'>\n                        {getRecommendList()}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import React, { PureComponent } from 'react'\nexport default class TopRankList extends PureComponent {\n\n    render() {\n        console.log('this', this.props)\n        let { appList } = this.props\n        let entry = appList.feed.entry\n        let getAppList = () => {\n            return entry.map((r, index) => {\n                return (\n                    <div className={index ? 'item_box' : 'item_box first'} key={index}>\n                        <div className='num'>{index + 1}</div>\n                        <img className={index % 2 == 0 ? 'icon_radius icon' : 'icon_circle icon'}\n                            src={r['im:image'][0].label}></img>\n                        <div className='content'>\n                            <div className='title ellipsis'>{r.title.label}</div>\n                            <div className='category ellipsis'>{r.category.attributes.label}</div>\n                            <div className='star ellipsis'>没有看到评分数据</div>\n                        </div>\n                    </div>\n                )\n            })\n        }\n        return (\n            <div className='rank_wrap'>\n                <div className=\"rank_box\">\n                    {getAppList()}\n                </div>\n            </div>\n        )\n    }\n}","import React, { PureComponent } from 'react'\n\nexport default class GlobalLine extends PureComponent {\n\n    render() {\n        return (\n            <div className='line'></div>\n        )\n    }\n}","export const GETAPPLIST = \"getAppList\";\nexport const GETRECOMMEND = \"getRecommend\";\n\nexport const GETRNETXAPPLIST = \"getNextAppList\";\n\n\n\nexport function getAppList(payload) {\n    return { type: GETAPPLIST, payload }\n}\n\nexport function getRecommend(payload) {\n    return { type: GETRECOMMEND, payload }\n}\n\nexport function getNextAppList(payload) {\n    return { type: GETRNETXAPPLIST, payload }\n}\n\n","\nexport default {\n    'appList': {\n        url: 'http://127.0.0.1:3010/appList',\n        method: 'get'\n    },\n    'recommend': {\n        url: 'http://127.0.0.1:3010/recommend',\n        method: 'get'\n    }\n}","export const OFFLINE_CODE = -1\n\nexport class SelfError {\n    code = 0;\n    message = '';\n    raw = '';\n    constructor(props) {\n        Object.assign(this, props)\n    }\n}","\n/**\n *  解析 query 字符串\n **/\nexport function queryParse(search, spliter) {\n    if (!search) return {};\n\n    spliter = spliter || '&';\n\n    let query = search.replace(/^\\?/, ''),\n        queries = {},\n        splits = query ? query.split(spliter) : null;\n\n    if (splits && splits.length > 0) {\n        splits.forEach((item) => {\n            item = item.split('=');\n            let key = item.splice(0, 1),\n                value = item.join('=');\n            queries[key] = decodeURIComponent(value);\n        });\n    }\n    return queries;\n}\n/**\n * URL添加query\n */\nexport function queryJoin(api/*queries*/) {\n    let args = [].slice.call(arguments)\n    args[0] = {}\n    let qs = queryStringify(Object.assign.apply(Object, args))\n    if (!qs) return api\n\n    let sep\n    if (/[\\?&]$/.test(api)) {\n        sep = ''\n    } else if (~api.indexOf('?')) {\n        sep = '&'\n    } else {\n        sep = '?'\n    }\n    return api + sep + qs\n}\n/**\n * query 对象转换字符串\n */\nexport function queryStringify(params, spliter) {\n    if (!params) return ''\n    return Object.keys(params).map((k) => {\n        return k + '=' + encodeURIComponent(params[k])\n    }).join(spliter || '&')\n}","import { SelfError, OFFLINE_CODE } from './self-error'\nimport { queryJoin } from './url'\n\n/**\n * [url]请求url\n * [data]后台需要的参数\n * [options]前端请求需要的额外参数\n * [config]一些特殊配置选项\n */\nexport default (url, data = {}, options = { method: 'get' }, config = {}) => {\n    let payloads = {\n        mode: 'cors'\n    }\n    if (options.method.toLowerCase() === 'get') {\n        if (!config.banQuery) {\n            url = queryJoin(url, data)\n        }\n    } else {\n        payloads.body = JSON.stringify(data)\n    }\n    Object.assign(payloads, options)\n    return new Promise((resolve, reject) => {\n        let message = ''\n        fetch(url, payloads).then(res => {\n            console.log(\"reqParam\", url, payloads)\n            if (res.ok) {\n                res.json().then(data => {\n                    try {\n                        resolve([null, data])\n                    } catch (err) {\n                        message = `${url} => parse response error: ` + data\n                        resolve([new SelfError({ message, raw: err })])\n                    }\n                }).catch(err => {\n                    message = `${url} => Invalid json response: `\n                    resolve([new SelfError({ message, raw: err })])\n                })\n            } else {\n                message = `${url} => Reqeust fail: ` + res.statusText\n                resolve([new SelfError({ message })])\n            }\n        }).catch(err => {\n            message = 'network error'\n            resolve([new SelfError({ message, raw: err, code: OFFLINE_CODE })])\n        })\n    })\n}\n","const TOP_HEIGHT = 284\nconst ITEM_HEIGHT = 67\n\nlet isFetching\nlet body = (document.compatMode && document.compatMode == 'CSS1Compat') ? document.documentElement : document.body;\nconst clientHeight = body.clientHeight\nexport default function listenScroll(cb) {\n    window.onscroll = () => {\n        let scrollTop = body.scrollTop\n        let offsetHeight = body.offsetHeight\n        let distance = offsetHeight - (scrollTop + clientHeight)\n        // 距离底部还有一屏的时候，预加载下屏\n        console.log('3333', distance, ITEM_HEIGHT * 10)\n        if (!isFetching && distance < ITEM_HEIGHT * 10) {\n            cb && cb({\n                success() {\n                    isFetching = false\n                }\n            })\n            isFetching = true\n        }\n    }\n}","import config from './data-config'\nimport Factory from './factory'\n\nexport default Factory(config)","import dataFetch from './fetch'\n\n\nexport default (apiMap) => {\n    let map = {}\n    Object.keys(apiMap).forEach(key => {\n        map[key] = (query, options, config) => {\n            let payload = Object.assign({}, apiMap[key].data || {}, query)\n            let url = apiMap[key].url\n            url = url.replace(/\\{{2}([^}]+?)\\}{2}/, (all, key) => {\n                return payload[key]\n            })\n            let reqOptions = Object.assign({ method: apiMap[key].method }, apiMap[key].options, options)\n            let reqConfig = Object.assign({}, apiMap[key].config, config)\n            console.log(apiMap[key])\n            return dataFetch(url, payload, reqOptions, reqConfig)\n        }\n    })\n    return map\n}","import React, { PureComponent } from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport Loading from '../components/loading'\nimport HomeSearch from '../components/home-search'\nimport RecommendList from '../components/recommend-list'\nimport TopRankList from '../components/top-rank-list'\nimport GlobalLine from '../components/line';\n\nimport { getAppList, getRecommend, getNextAppList } from '../redux/action/index'\nimport req from '../modules/fetching'\nimport listenScroll from '../modules/scroll'\n\n\nclass Home extends PureComponent {\n    constructor(props) {\n        super(props)\n        this.getNextPage = this.getNextPage.bind(this)\n    }\n    componentDidMount() {\n        this.props.getAppList({\n            limit: 10\n        }, {\n                success: () => {\n                    // 预加载一屏数据\n                    setTimeout(() => {\n                        this.getNextPage()\n                    })\n                }\n            })\n        this.props.getRecommend()\n        listenScroll(this.getNextPage)\n    }\n    getNextPage(opts) {\n        let { appList } = this.props\n        if (!appList.hasNextPage) return\n        this.props.getNextAppList({\n            pageContext: appList.pageContext\n        }, opts)\n    }\n    render() {\n        let { appList, recommend } = this.props\n        if (!appList && !recommend) return (<Loading></Loading>)\n        console.log(\"aaaaaaaaaa\", appList, recommend)\n        return (\n            <div>\n                <HomeSearch></HomeSearch>\n                <GlobalLine></GlobalLine>\n                {recommend ? (<RecommendList recommend={recommend}></RecommendList>) : null}\n                <div className='line_box'>\n                    <GlobalLine></GlobalLine>\n                </div>\n                {appList ? (<TopRankList appList={appList}></TopRankList>) : null}\n            </div>\n        )\n    }\n}\n\nexport default connect((state) => state, dispatch => ({\n    async getAppList(param, opts = {}) {\n        let [err, data] = await req.appList(param)\n        let payload = err ? err : data\n        // req.appList(param).then((s) => {\n        //     console.log(\"sssssssss\", s)\n        // })\n        console.log(\"appList\", data)\n        dispatch(getAppList(payload))\n        opts.success && opts.success()\n    },\n    async getRecommend(param) {\n        let [err, data] = await req.recommend(param)\n        let payload = err ? err : data\n        // req.appList(param).then((s) => {\n        //     console.log(\"sssssssss\", s)\n        // })\n        console.log(\"recommend\", data)\n        dispatch(getRecommend(payload))\n    },\n    async getNextAppList(param, opts = {}) {\n        let [err, data] = await req.appList(param)\n        let payload = err ? err : data\n        // req.appList(param).then((s) => {\n        //     console.log(\"sssssssss\", s)\n        // })\n        console.log(\"getNextAppList\", data)\n        dispatch(getNextAppList(payload))\n        opts.success && opts.success()\n    }\n}))(Home)","import React, { PureComponent } from 'react'\n\nexport default class SearchList extends PureComponent {\n\n    render() {\n        let { resList } = this.props\n        console.log('search_list', resList)\n        // whose app name, category, author or summary contains the keyword;\n        let renderSearchList = () => {\n            return resList.map((l, index) => {\n                return (\n                    <div className='search_item' key={index}>\n                        <div className='name ellipsis'>{l['im:name'].label}</div>\n                        <div className='category ellipsis'>{l.category.attributes.label}</div>\n                        <div className='author ellipsis'>{l['im:artist'].label}</div>\n                        <div className='summary ellipsis'>{l['summary'].label}</div>\n                    </div>\n                )\n            })\n        }\n        return (\n            <div className='search_list'>\n                {renderSearchList()}\n            </div>\n        )\n    }\n}","import React, { PureComponent } from 'react'\n\nimport SearchList from './search-list'\n\nexport default class SearchInput extends PureComponent {\n    constructor(props) {\n        super(props)\n        this.state = {\n            resList: '',\n            keywords: ''\n        }\n        this.onChange = this.onChange.bind(this)\n        this.getSmartList = this.getSmartList.bind(this)\n        this.goSearch = this.goSearch.bind(this)\n    }\n    onChange(e) {\n        let a = e.persist()\n        let keywords = e.target.value\n        this.setState({\n            keywords\n        })\n        clearTimeout(this.timer)\n        this.timer = setTimeout(() => {\n            if (!keywords) return\n            this.getSmartList(keywords)\n        }, 300)\n    }\n    getSmartList(keywords) {\n        console.log(\"keywords\", keywords)\n        let { appList, recommend } = this.props\n        // 这里就不做分词了哈，也不做匹配的相似度排序了\n        let reg = new RegExp(keywords, 'im')\n        let list = [...appList.feed.entry, ...recommend.feed.entry]\n        let resList = list.filter(l => {\n            let attributes = l.category.attributes\n            if (reg.test(attributes.label) ||\n                reg.test(attributes.term) ||\n                reg.test(l['im:artist'].label) ||\n                reg.test(l['im:contentType'].attributes.label) ||\n                reg.test(l['im:name'].label) ||\n                reg.test(l['summary'].label) ||\n                reg.test(l['title'].label)\n            ) {\n                return true\n            }\n            return false\n        })\n        this.setState({\n            resList\n        })\n        return resList\n    }\n    goSearch() {\n        let resList = this.getSmartList(this.state.keywords)\n        this.setState({\n            resList\n        })\n    }\n    render() {\n        let { appList, recommend } = this.props\n        let { resList, keywords } = this.state\n        return (\n            <div className='input_box'>\n                <div className='input_contaner'>\n                    <input type='text'\n                        value={keywords}\n                        placeholder='搜索'\n                        onChange={this.onChange}\n                        id='search_input'></input>\n                </div>\n                {/* <div className='search_btn' onClick={this.goSearch}>搜索</div> */}\n                {/* <SearchHistory></SearchHistory> */}\n                {/* <SmartTips></SmartTips> */}\n                {resList ? (<SearchList resList={resList}></SearchList>) : null}\n            </div>\n        )\n    }\n}","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\n\nimport Loading from '../components/loading'\nimport SearchInput from '../components/search-input'\n\nimport { getAppList, getRecommend, } from '../redux/action/index'\nimport req from '../modules/fetching'\n\nclass Search extends PureComponent {\n    constructor(props) {\n        super(props)\n    }\n    componentDidMount() {\n        this.props.getAppList({\n            limit: 100\n        })\n        this.props.getRecommend()\n    }\n    render() {\n        let { appList, recommend } = this.props\n        if (!appList && !recommend) return (<Loading></Loading>)\n\n        return (\n            <div className='search_box'>\n                {appList || recommend ? (<SearchInput appList={appList} recommend={recommend}></SearchInput>) : null}\n            </div>\n        )\n    }\n}\n\nexport default connect((state) => state, dispatch => ({\n    async getAppList(param) {\n        let [err, data] = await req.appList(param)\n        let payload = err ? err : data\n        // req.appList(param).then((s) => {\n        //     console.log(\"sssssssss\", s)\n        // })\n        console.log(\"appList\", data)\n        dispatch(getAppList(payload))\n    },\n    async getRecommend(param) {\n        let [err, data] = await req.recommend(param)\n        let payload = err ? err : data\n        // req.appList(param).then((s) => {\n        //     console.log(\"sssssssss\", s)\n        // })\n        console.log(\"recommend\", data)\n        dispatch(getRecommend(payload))\n    }\n}))(Search)","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\n\nimport Index from '../pages/index'\nimport Search from '../pages/search'\n\nconst getRouter = () => (\n    <Switch>\n        <Route exact path=\"/\" component={Index} />\n        <Route path=\"/search\" component={Search} />\n    </Switch>\n)\n\nexport default getRouter","import { GETAPPLIST, GETRECOMMEND, GETRNETXAPPLIST } from '../action/index';\n\n/*\n* 初始化state\n */\n\nconst initState = {\n    appList: '',\n    recommend: ''\n};\n/*\n* reducer\n */\nexport default function reducer(state = initState, action) {\n    console.log(\"reducer\", action, state)\n    switch (action.type) {\n        case GETAPPLIST:\n            return Object.assign({}, state, {\n                appList: action.payload\n            })\n        case GETRECOMMEND:\n            return Object.assign({}, state, {\n                recommend: action.payload\n            })\n        case GETRNETXAPPLIST:\n            console.log(\"4444\", state.appList.feed.entry, action.payload.feed.entry)\n            action.payload.feed.entry = state.appList.feed.entry.concat(action.payload.feed.entry)\n            console.log(\"4343434343434343434343\", action.payload.feed.entry)\n            return Object.assign({}, state, { appList: action.payload })\n        default:\n            return state\n    }\n}\n","import { createStore } from 'redux'\nimport reducer from './reducer/index'\n\nlet store = createStore(reducer)\n\nexport default store","import React, { PureComponent } from 'react'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { Provider } from 'react-redux'\n\nimport getRouter from './modules/router'\nimport store from './redux/store'\n\nimport Index from './pages/index'\n\nexport default class App extends PureComponent {\n\n  render() {\n    return (\n      <div className=\"app_box\">\n        <Provider store={store}>\n          <Router>\n            {getRouter()}\n          </Router>\n        </Provider>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}